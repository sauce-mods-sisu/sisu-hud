<!DOCTYPE html>
<html id="hud-content" tabindex="0" data-settings-key="sisu-hud-config">
  <head>
    <meta charset="utf-8" />
    <title>SISU HUD</title>
    <!-- Keep your existing stylesheets -->
    <link rel="stylesheet" href="css/hud.css" />
    <link rel="stylesheet" href="css/config.css" />
  </head>
    <!-- Configuration Popup Overlay -->
    <dialog id="config-dialog">
      <h2>SISU HUD Options</h2>
      <form id="config-form" method="dialog">
        <!-- New: color picker for icons -->
        <fieldset>
          <legend>Select HUD Colors</legend>

          <label for="icon-color">Icons</label>
          <input type="color" id="icon-color" name="iconColor" value="#FF0000"/>

          <label for="text-color">Values</label>
          <input type="color" id="value-color" name="valueColor" value="#008000"/>
        </fieldset>
        <div class="popup-buttons">
          <button type="submit" id="save-config-btn">Save</button>
          <button type="button" id="close-config-btn">Close</button>
        </div>
      </form>
    </dialog>
    
    <!-- HUD elements directly in <body> -->
    <div class="hud-header">
      <div class="config-panel">
        <label for="scale-slider">Scale</label>
        <input 
          id="scale-slider"
          type="range"
          min="0.50"
          max="2.0"
          step="0.05"
          value="1"
        />
        <button id="reset-visibility-btn" class="header-btn">Reset Visibility</button>
        <button id="open-config-btn" class="header-btn">Settings</button>
      </div>
      <button id="close-btn" class="header-btn close-btn">X</button>   
    </div>

    <!-- Data fields container -->
    <div id="stats-container"></div>
    
    <!-- Bottom-right resize handle -->
    <div class="resize-handle"></div>

    <!-- Template for data fields -->
    <template id="stats-template">
      <div class="stat-row">
        <img src="icons/cadence.svg" class="stat-icon" alt="Cadence" />
        <span class="stat-value cadence-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/wind.svg" class="stat-icon" alt="Draft" />
        <span class="stat-value draft-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/heart.svg" class="stat-icon" alt="Heart Rate" />
        <span class="stat-value hr-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/bolt.svg" class="stat-icon" alt="Power" />
        <span class="stat-value power-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/wkg.svg" class="stat-icon" alt="w/kg" />
        <span class="stat-value wkg-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/speedometer.svg" class="stat-icon" alt="Speed" />
        <span class="stat-value speed-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/battery-half.svg" class="stat-icon" alt="wBal" />
        <span class="stat-value wbal-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/clock.svg" class="stat-icon" alt="Time on Course" />
        <span class="stat-value time-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/kj.svg" class="stat-icon" alt="kj" />
        <span class="stat-value kj-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/ruler-horizontal.svg" class="stat-icon" alt="Distance" />
        <span class="stat-value distance-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/mountain.svg" class="stat-icon" alt="Climb" />
        <span class="stat-value climb-value"></span>
      </div>
      <div class="stat-row">
        <img src="icons/grade.svg" class="stat-icon" alt="Grade" />
        <span class="stat-value grade-value"></span>
      </div>
    </template>

    <script type="module" src="src/hud.mjs"></script>
    <script src="js/Sortable.min.js"></script>
</html>
